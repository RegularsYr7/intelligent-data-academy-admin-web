# 高德地图集成说明

学校信息管理页面已集成高德地图选择功能,需要配置高德地图 API 密钥才能使用。

## 配置步骤

### 1. 获取高德地图 API 密钥

1. 访问 [高德开放平台](https://lbs.amap.com/)
2. 注册并登录账号
3. 进入控制台 -> 应用管理 -> 我的应用
4. 创建新应用,添加 Web 端(JS API) 服务
5. 获取 Key 和安全密钥(Secret)

### 2. 修改代码中的 API 密钥

打开文件: `src/views/schoolInfoManagent/school/index.vue`

找到第 **约 78 行** 的位置:

```javascript
script.src =
  "https://webapi.amap.com/maps?v=2.0&key=YOUR_AMAP_KEY&plugin=AMap.PlaceSearch,AMap.Geocoder";
```

将 `YOUR_AMAP_KEY` 替换为你的高德地图 Key

### 3. 配置安全密钥(可选,推荐)

在 `index.html` 的 `<head>` 标签中添加:

```html
<script>
  window._AMapSecurityConfig = {
    securityJsCode: "你的安全密钥",
  };
</script>
```

## 功能说明

### 地图选择位置功能

1. **搜索地点**: 在搜索框输入地址或地点名称,点击搜索按钮
2. **点击选择**: 直接在地图上点击任意位置
3. **自动填充**: 选择位置后会自动获取并填充以下信息:
   - 省份
   - 城市
   - 区县
   - 详细地址
   - 经度
   - 纬度

### 页面简化说明

已按要求简化字段,保留字段包括:

**必填字段:**

- 学校 Logo (图片上传组件)
- 学校名称

**可选字段:**

- 所在省份
- 所在城市
- 所在区县
- 详细地址
- 经度、纬度 (通过地图选择自动填充)
- 学校简介
- 显示顺序
- 状态

**表格展示:**

- ID
- 学校 Logo
- 学校名称
- 省份
- 城市
- 区县
- 详细地址
- 经度
- 纬度
- 显示顺序
- 状态
- 操作按钮

**搜索条件:**

- 仅保留学校名称搜索

## 注意事项

1. 高德地图 API 有调用次数限制,个人开发者每天有免费额度
2. 如果不配置 API 密钥,地图功能将无法使用,但不影响其他功能
3. 建议使用 HTTPS 协议访问,以确保地图 API 正常工作
